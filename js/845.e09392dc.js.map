{"version":3,"file":"js/845.e09392dc.js","mappings":"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","sources":["webpack://musify/./src/views/AlbumView.vue","webpack://musify/./src/services/AlbumService.js","webpack://musify/./src/views/AlbumView.vue?cacd"],"sourcesContent":["<template>\r\n  <v-container v-if=\"songs && songs.length !== 0\" class=\"container\">\r\n    <v-row class=\"row justify-center\">\r\n      <v-card max-width=\"300\">\r\n        <v-img\r\n          :src=\"songs[0]?.album.cover_big\"\r\n          height=\"300px\"\r\n          width=\"300px\"\r\n          cover\r\n          class=\"align-end text-white\"\r\n        >\r\n          <v-card-title class=\"title_text\" v-text=\"songs[0]?.album.title\">\r\n          </v-card-title>\r\n          <v-card-title\r\n            class=\"title_text\"\r\n            v-text=\"songs[0]?.artist.name + ', tracks: ' + songs.length\"\r\n          >\r\n          </v-card-title>\r\n        </v-img>\r\n      </v-card>\r\n    </v-row>\r\n    <v-row> <h3 class=\"header\">Songs</h3></v-row>\r\n    <v-row class=\"row row__theme_default rounded-lg\">\r\n      <section class=\"songs\">\r\n        <SongsList\r\n          v-if=\"songs\"\r\n          class=\"list__song\"\r\n          :songs=\"songs\"\r\n          :canAddToLibrary=\"true\"\r\n          location=\"album\"\r\n        >\r\n        </SongsList>\r\n        <div v-intersect=\"onIntersect\"></div>\r\n      </section>\r\n    </v-row>\r\n  </v-container>\r\n  <template v-if=\"isLoading\">\r\n    <ClipLoader\r\n      class=\"loader\"\r\n      :loading=\"isLoading\"\r\n      color=\"#fe7e91\"\r\n      size=\"100px\"\r\n    ></ClipLoader>\r\n    <h3 class=\"loader-text\">Loading...</h3>\r\n  </template>\r\n</template>\r\n<script>\r\nimport { getAllSongsInAlbum } from \"@/services/AlbumService\";\r\nimport SongsList from \"@/components/SongsList\";\r\nimport ClipLoader from \"vue-spinner/src/ClipLoader\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      songs: [],\r\n      isLoading: false,\r\n      error: null,\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getSongs() {\r\n      this.isLoading = true;\r\n      getAllSongsInAlbum(this.$route.params.id).then((res) => {\r\n        if (res.error?.code === 4) {\r\n          this.error = res.error;\r\n        } else {\r\n          this.isLoading = false;\r\n          this.error = null;\r\n        }\r\n\r\n        const artistPicture = res.artist?.picture;\r\n        const tracks = res?.tracks?.data;\r\n        this.songs = tracks?.map((track) => {\r\n          const newTrack = { ...track };\r\n          track.artist.picture = artistPicture;\r\n          return newTrack;\r\n        });\r\n        this.$store.dispatch(\"setSongsViaApp\", this.songs);\r\n      });\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    error: function (newError) {\r\n      if (newError) {\r\n        setTimeout(() => {\r\n          console.log(\"repeat\");\r\n          this.getSongs();\r\n        }, 2500);\r\n      }\r\n    },\r\n  },\r\n\r\n  components: {\r\n    SongsList,\r\n    ClipLoader,\r\n  },\r\n\r\n  mounted() {\r\n    this.getSongs();\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.row {\r\n  margin: 0;\r\n}\r\n\r\n.row__theme_default {\r\n  box-shadow: 0 0 3px 1px rgba(34, 60, 80, 0.2);\r\n}\r\n\r\n.header {\r\n  color: #69686f;\r\n  margin-left: 70px;\r\n  margin-top: 20px;\r\n}\r\n.songs {\r\n  width: 100%;\r\n}\r\n.container {\r\n  display: flex;\r\n  gap: 20px;\r\n  flex-flow: column;\r\n  padding: 50px 0 50px 0;\r\n}\r\n.album_img {\r\n  height: 150px;\r\n  width: 150px;\r\n}\r\n.title_text {\r\n  padding-top: 0;\r\n  padding-bottom: 0;\r\n}\r\n\r\n.loader {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n\r\n.loader-text {\r\n  position: absolute;\r\n  left: 50%;\r\n  top: 57%;\r\n  transform: translate(-50%, -57%);\r\n}\r\n</style>\r\n","const API_URL_KEY = \"https://deezerdevs-deezer.p.rapidapi.com/album/\";\r\nconst headerOptions = {\r\n  \"X-RapidAPI-Key\": \"d5161370afmsheb9e90f835cdc0cp198544jsn489f6e24cf05\",\r\n  \"X-RapidAPI-Host\": \"deezerdevs-deezer.p.rapidapi.com\",\r\n};\r\n\r\nexport async function getAllSongsInAlbum(id) {\r\n  let url = API_URL_KEY + id;\r\n\r\n  try {\r\n    const response = await fetch(url, {\r\n      method: \"GET\",\r\n      headers: {\r\n        ...headerOptions,\r\n      },\r\n    });\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n","import { render } from \"./AlbumView.vue?vue&type=template&id=b8646d54&scoped=true\"\nimport script from \"./AlbumView.vue?vue&type=script&lang=js\"\nexport * from \"./AlbumView.vue?vue&type=script&lang=js\"\n\nimport \"./AlbumView.vue?vue&type=style&index=0&id=b8646d54&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\Study\\\\IT_PROJECT\\\\musify\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b8646d54\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","$data","length","_createBlock","_component_v_container","_createVNode","_component_v_row","_component_v_card","_component_v_img","src","album","cover_big","height","width","cover","_component_v_card_title","_toDisplayString","title","artist","name","_hoisted_1","_hoisted_2","_component_SongsList","songs","canAddToLibrary","location","_ctx","_createElementBlock","_Fragment","key","_component_ClipLoader","loading","color","size","_hoisted_3","API_URL_KEY","headerOptions","async","getAllSongsInAlbum","id","url","response","fetch","method","headers","json","error","console","data","isLoading","methods","getSongs","this","$route","params","then","res","code","artistPicture","picture","tracks","map","track","newTrack","$store","dispatch","watch","newError","setTimeout","log","components","SongsList","ClipLoader","mounted","__exports__","render"],"sourceRoot":""}